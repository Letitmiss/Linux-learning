
### [目录](https://github.com/Letitmiss/Linux-learning/blob/master/README.md)
# 第 14 章 Linux账号管理与ACL权限设置
----
14.1 Linux账号与用户组    
14.2 账号管理   
14.3 主机具体权限规范   
14.4 用户身份切换   
14.5 用户的特殊shell与PAM模块   
14.6 Linux主机上的用户信息传递    
14.7 手动新增用户   


# 14.1 Linux账号与用户组   
[1. 用户标识](#用户标识)    
[2. 用户账号](#用户账号)    
[3. 有效与初始化组](#有效与初始化组)    

## 用户标识
* 登陆账号时,输入的是账号,但是主机比较的账户ID,系统记录为UID,保存在/etc/passwd当中.用户是属于某个组的,所以也有组ID,系统记录为GID,记录在/etc/group;
* 文件的属组的显示就是根据文件记录的UID/GID去查询对应的文件再显示出来的;
## 用户账号

### 输入账号密码后,系统帮你做了什么?

1. 先寻找/etc/passwd里面是否有输入的账号,如果没有则直接跳出,如果有的话,则将该账号对应的UID与GID读出来,另外该账号的主文件夹与shell也一并读出来   
2. 再输入密码核对密码,linux会进入到/etc/shadow里面找出对应账号的UID战后核对一下刚才输入的密码是否与里面的密码相符
3. 如果一切OK的话,进入shell管控的阶段了

### 解读/etc/passwd

* 文件结构: 每一行代表一个账号,有几行就表示有一个账户在系统中,需要注意的是,有很多账号是系统正常运行锁必须要的,称为系统账号,例如:bin,daemon,adm,nobody,这些账号不可随意删掉
```
lfg1000708009:~ # cat /etc/passwd | head -n 5
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/bin/bash
daemon:x:2:2:Daemon:/sbin:/bin/bash
lp:x:4:7:Printing daemon:/var/spool/lpd:/bin/bash
mail:x:8:12:Mailer daemon:/var/spool/clientmqueue:/bin/false

```
* 以上面的几行数据为例,可以看出每一行分为7段,每一段用;隔开
1. 账号名称 : 账号名称与第三段的数字对应,root的UID为0
2. 密码: 早期Linux的账户密码是在这个字段上的,但是后来有安全缺陷,就移动到了/etc/shadow中,目前这里只是保留了一个x字符而已
3. UID: 用户标识符 
    * 0标识是系统管理员,如果希望其他账号具有管理员的权限,也可以设置UID为0,但是不太建议多个用户具有root权限;   
    * 1-499为系统账号,Linux默认500一下的数字留给系统保留账号,其中0-99位自行创建的系统账号100-499位用户有需要系统账号需求是,使用的UID
    * 500-65535可登陆账号,一般留给用户使用
4. GID : 用来标识用户属于哪一个组,使用这个ID可以在/etc/group中找到对应的组
5. 用户信息说明,没什么重要用途,使用finger可以提供更多信息
6. 主文件夹:登陆后会自动跳转到该目录
7. shell,用户登录系统后会取得一个Shell来与系统的内核通信,默认为bash,有一个shell可以用来让账号无法取得shell环境的登陆操作,那就是/sbin/nologin

## 有效与初始化组
