### [目录](https://github.com/Letitmiss/Linux-learning/blob/master/README.md)
### [上一节 8.2文件系统的简单操作](https://github.com/Letitmiss/Linux-learning/blob/master/blog/8.2disk_fileSystem.md)
------
# 磁盘的分割.格式化.检验与挂载
[1. 磁盘分区 fdisk,partprobe ](#磁盘与目录的容量)   
[2. 磁盘格式化 mkfs,mke2fs](#磁盘格式化)    
[3. 磁盘检验 fsck,badblocks](#磁盘检验)   
[4. 磁盘挂载与卸载 mount,umount](#磁盘挂载与卸载)   
[5. 磁盘参数修订 mknod,e2label,tune2fs,hdparm](#磁盘参数修订)   

----

## 磁盘与目录的容量
* 磁盘管理时,新增一块磁盘的动作如下:
1. 磁盘进行分割,建立可用的partition
2. 对partition进行格式化(format),建立系统可用的filesystem
3. 对刚刚建立好的filesystem进行检验
4. 在linux系统上,需要建立挂载点(挂载目录),将filesystem挂载上来
* 实际过程还要考虑分区槽parttion需要多大,是否加入Journal功能,inode与block的数量应该如何规划,这些实际问题根据主机的用途来考虑;

### 磁盘分区
* fdisk [-l] 装置名称
    * -l 后面接装置时输出改装置的所有的partition内容, 如果只是fdisk -l 时,则系统会把整个系统内能搜索到装置的partition均列出来
```bash
lfg1000708009:/ # df /            # 查看root挂载
Filesystem     1K-blocks     Used Available Use% Mounted on
/dev/vda2      138301480 31313612  99962564  24% /
lfg1000708009:/ # fdisk /dev/vda

Command (m for help): m        
Command action
   a   toggle a bootable flag
   b   edit bsd disklabel
   c   toggle the dos compatibility flag
   d   delete a partition           # 删除一个分区
   l   list known partition types
   m   print this menu
   n   add a new partition          # 增加一个分区
   o   create a new empty DOS partition table
   p   print the partition table     # 打印分区表
   q   quit without saving changes   # 不保存退出,就是操作不生效退出
   s   create a new empty Sun disklabel 
   t   change a partition's system id
   u   change display/entry units
   v   verify the partition table
   w   write table to disk and exit    # 将刚刚的动作写入分割表
   x   extra functionality (experts only)

Command (m for help): p

Disk /dev/vda: 161.1 GB, 161061273600 bytes          # 磁盘文件名与容量
255 heads, 63 sectors/track, 19581 cylinders, total 314572800 sectors  #255个磁面,63个扇区,19581个磁柱
Units = sectors of 1 * 512 = 512 bytes              # 每个磁柱的大小
Sector size (logical/physical): 512 bytes / 512 bytes  # 每个扇区的大小
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x0002407d  

   Device Boot      Start         End      Blocks   Id  System
/dev/vda1            2048    33560575    16779264   82  Linux swap / Solaris
/dev/vda2   *    33560576   314572799   140506112   83  Linux

Command (m for help): 

```

## 磁盘格式化

## 磁盘检验

## 磁盘挂载与卸载
## 磁盘参数修订

