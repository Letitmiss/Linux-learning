
# 账号管理

1. 新增与删除用户
2. 用户功能
3. 新增与删除群组
4. 账号管理实例

## 新增与删除用户
### useradd
 
* useradd [-u UID] [-g 初始群组] [-G 次要群组] [-mM] [-c 说明栏] [-d 家目录绝对路径] [-s shell] 账号名   
选项与参数:    
-U: 后面接的是UID,是一组数字,直接指定这个UID给这个账号   
-g: 接的树初始用户组,改用户组的GID会被放置在这个用户的第四个字段    
-G: 后面接这个用户加入的群组,可以多个用,隔开   
-M: 强制,不要建立用户家目录(系统账号默认值)   
-m: 强制,要建立用户家目录(一般账号默认值)    
-c: /etc/passwd第五栏的说明     
-d: 指定某个目录为家目录,不要使用默认值    
-r: 建立系统账号,这个账号的UID会有限制       
-s: 后面接一个shell,若是没有指定则预设是/bin/bash    
-e: 后面接一个日期,格式[YYYY-MM-DD],此项目可写入shadow的第八段,即是账号实效日期的设定   
-f: 后面接shadow的第七段,指定面是否会实效,0为立刻实效,-1永远不会实效    

```
lfg1000708009:/home # useradd vbird1
lfg1000708009:/home # grep vbird1 /etc/passwd /etc/shadow /etc/group
/etc/passwd:vbird1:x:6619:100::/home/vbird1:/bin/bash
/etc/shadow:vbird1:!:17544:0:99999:7:::
/etc/group:dialout:x:16:uniagent,sysomc,user1,mts,vbird1
/etc/group:video:x:33:uniagent,sysomc,user1,mts,vbird1
```
1. 查看预设参数
```
lfg1000708009:/home # useradd -D
GROUP=100
HOME=/home
INACTIVE=-1
EXPIRE=
SHELL=/bin/bash
SKEL=/etc/skel
GROUPS=video,dialout
CREATE_MAIL_SPOOL=no
UMASK=022
lfg1000708009:/etc/default # cat /etc/default/useradd
cat /etc/login.defs  # 设置了密码等相关的参数
```
* 密码修改
